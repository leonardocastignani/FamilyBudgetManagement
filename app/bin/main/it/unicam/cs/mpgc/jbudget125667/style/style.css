/* === ROOT & GENERAL STYLES (SOFT LIGHT MODE) === */
.root {
    -fx-font-family: "Segoe UI", "Arial", sans-serif;
    -fx-base: #FFFFFF; /* Le card rimangono bianche per contrasto */
    -color-primary: #3D67FF; /* Blu primario */
    -color-secondary: #5A6268; /* Grigio secondario leggermente più scuro per leggibilità */
    -color-accent: #1A9A77; /* Verde più scuro per miglior contrasto */
    -color-text: #343A40; /* Grigio molto scuro per testo principale */
    -color-border: #E0E5E9; /* Bordo più morbido */
    -color-danger: #D93043; /* Rosso leggermente desaturato */
    -color-background: #F4F6F8; /* Sfondo principale "off-white" / grigio molto chiaro */
    -color-surface: #FFFFFF; /* Sfondo per le card e pannelli principali */
}

/* === BACKGROUNDS === */
.home-background, .familylogin-background, .familyregister-background, .addbankaccount-background {
    -fx-background-color: -color-background;
}

/* === CARDS (Login, Register, Add Account) === */
.familylogin-card, .familyregister-card, .addbankaccount-card {
    -fx-background-color: -color-surface;
    -fx-padding: 50px;
    -fx-background-radius: 10px;
    -fx-border-color: -color-border;
    -fx-border-width: 1px;
    -fx-border-radius: 10px;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.04), 15, 0, 0, 3);
    -fx-max-width: 500px;
}

/* === TITLES === */
.familylogin-title, .familyregister-title, .addbankaccount-title, .add-movement-title {
    -fx-font-size: 32px;
    -fx-font-weight: 600;
    -fx-text-fill: -color-text;
}

.home-title {
    -fx-font-size: 36px;
    -fx-font-weight: 300;
    -fx-text-fill: -color-text;
    -fx-padding: 22px 32px;
}

.home-title-bold {
    -fx-font-weight: bold;
}

.section-title, .dashboard-title {
    -fx-font-size: 22px;
    -fx-font-weight: 600;
    -fx-text-fill: -color-text;
    -fx-padding-bottom: 14px;
    -fx-border-width: 0 0 1px 0;
    -fx-border-color: -color-border;
    -fx-alignment: center-left;
    -fx-max-width: infinity;
}

/* === FORM FIELDS & LABELS === */
.login-field, .register-field, .addbankaccount-field, .add-movement-field {
    -fx-font-size: 17px;
    -fx-background-color: -color-background;
    -fx-text-fill: -color-text;
    -fx-background-radius: 6px;
    -fx-border-radius: 6px;
    -fx-border-color: -color-border;
    -fx-border-width: 2px;
    -fx-padding: 14px;
    -fx-prompt-text-fill: -color-secondary;
}

.login-field:focused, .register-field:focused, .addbankaccount-field:focused, .add-movement-field:focused {
    -fx-border-color: -color-primary;
    -fx-background-color: -color-surface;
}

.message-label {
    -fx-font-size: 16px;
    -fx-text-fill: -color-danger;
    -fx-min-height: 25px; /* Reserve space */
}

.add-movement-label {
    -fx-font-size: 17px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-text;
}

.add-movement-checkbox {
    -fx-text-fill: -color-text;
    -fx-font-size: 16px;
}

.disabled-date {
    -fx-background-color: #FFEBEE; /* Un rosso molto chiaro per indicare che non è selezionabile */
}

/* === BUTTONS === */
.login-register-btn, .addaccount-btn {
    -fx-background-color: -color-primary;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-font-size: 17px;
    -fx-padding: 14px 32px;
    -fx-background-radius: 6px;
    -fx-cursor: hand;
}
.login-register-btn:hover, .addaccount-btn:hover {
    -fx-background-color: derive(-color-primary, -10%);
}

.reg-btn, .back-btn {
    -fx-background-color: transparent;
    -fx-text-fill: -color-secondary;
    -fx-border-color: -color-border;
    -fx-border-width: 2px;
    -fx-font-weight: bold;
    -fx-font-size: 17px;
    -fx-padding: 14px 32px;
    -fx-border-radius: 6px;
    -fx-cursor: hand;
}
.reg-btn:hover, .back-btn:hover {
    -fx-background-color: #E9ECEF;
    -fx-border-color: -color-secondary;
    -fx-text-fill: -color-text;
}

.save-btn {
    -fx-background-color: -color-accent;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-padding: 12px 24px;
    -fx-background-radius: 6px;
    -fx-cursor: hand;
}
.save-btn:hover {
    -fx-background-color: derive(-color-accent, -10%);
}

.cancel-btn, .close-dialog-btn {
    -fx-background-color: -color-danger;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-padding: 12px 24px;
    -fx-background-radius: 6px;
    -fx-cursor: hand;
}
.cancel-btn:hover, .close-dialog-btn:hover {
    -fx-background-color: derive(-color-danger, -10%);
}

/* Show Password Toggle Button */
.show-password-btn {
    -fx-background-color: transparent;
    -fx-cursor: hand;
    -fx-padding: 0;
}
.show-password-btn .label {
    -fx-text-fill: -color-secondary;
}
.show-password-btn:hover .label {
    -fx-text-fill: -color-primary;
}

/* === MAIN LAYOUT (HOME) === */
.sidebar {
    -fx-background-color: -color-surface;
    -fx-padding: 0;
    -fx-alignment: top-center;
    -fx-spacing: 12px;
    -fx-border-width: 0 1px 0 0;
    -fx-border-color: -color-border;
}

.sidebar-title, .bankaccount-title {
    -fx-font-size: 15px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-secondary;
    -fx-padding: 10px 22px;
    -fx-letter-spacing: 1px;
}

.sidebar-btn, .account-btn {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text;
    -fx-font-size: 17px;
    -fx-padding: 15px 22px;
    -fx-alignment: center-left;
    -fx-background-radius: 0;
    -fx-border-width: 0 0 0 4px;
    -fx-border-color: transparent;
    -fx-cursor: hand;
    -fx-min-width: 240;
    -fx-max-width: 240;
}
.sidebar-btn:hover, .account-btn:hover {
    -fx-background-color: #E9F0FF;
    -fx-text-fill: -color-primary;
    -fx-border-color: -color-primary;
}

.exit-btn {
    -fx-background-color: transparent;
    -fx-text-fill: -color-danger;
    -fx-font-size: 17px;
    -fx-padding: 15px 22px;
    -fx-alignment: center-left;
    -fx-background-radius: 0;
    -fx-border-width: 0 0 0 4px;
    -fx-border-color: transparent;
    -fx-cursor: hand;
    -fx-min-width: 240;
    -fx-max-width: 240;
}
.exit-btn:hover {
    -fx-border-color: -color-danger;
    -fx-text-fill: -color-danger;
    -fx-background-color: #FFF5F5;
}

.horizontal-separator {
    -fx-border-width: 0 0 1px 0;
    -fx-border-color: -color-border;
}

.vertical-separator {
    -fx-border-width: 0 0 0 1px;
    -fx-border-color: -color-border;
}

/* === TABS === */
.tab-pane {
    -fx-background-color: -color-background;
}
.tab-pane .tab-header-area {
    -fx-min-height: 75px;
    -fx-max-height: 75px;
}
.tab-pane .tab-header-area .tab-header-background {
    -fx-background-color: -color-surface;
}
.tab-pane .tab {
    -fx-background-color: -color-surface;
    -fx-padding: 20px 26px;
    -fx-font-size: 17px;
    -fx-focus-color: transparent;
    -fx-faint-focus-color: transparent;
}
.tab-pane .tab:selected {
    -fx-border-color: -color-primary;
    -fx-border-width: 0 0 3px 0;
    -fx-background-color: -color-background;
}
.tab-pane .tab:hover {
    -fx-background-color: -color-background;
}
.tab-pane .tab-label {
    -fx-text-fill: -color-secondary;
    -fx-font-weight: bold;
}
.tab-pane .tab:selected .tab-label {
    -fx-text-fill: -color-primary;
}

/* === DASHBOARD & CONTENT === */
.scroll-pane {
    -fx-background-color: transparent;
}
.scroll-pane .viewport {
    -fx-background-color: transparent;
}

.dashboard-container {
    -fx-padding: 32px;
    -fx-background-color: -color-background;
}

.dashboard-card {
    -fx-background-color: -color-surface;
    -fx-padding: 28px;
    -fx-background-radius: 8px;
    -fx-border-color: -color-border;
    -fx-border-width: 1px;
    -fx-border-radius: 8px;
}

/* Stili per la nuova card dei saldi */
.balance-label {
    -fx-font-size: 20px;
    -fx-text-fill: -color-secondary;
    -fx-font-weight: 600;
}

.balance-value-small {
    -fx-font-size: 32px;
    -fx-font-weight: 300;
    -fx-text-fill: -color-text;
}

.balance-value {
    -fx-font-size: 48px;
    -fx-font-weight: 300;
    -fx-text-fill: -color-text;
    -fx-padding-top: 12px;
}

.account-list-btn {
    -fx-background-color: -color-surface;
    -fx-border-color: -color-border;
    -fx-border-width: 2px;
    -fx-text-fill: -color-text;
    -fx-font-size: 19px;
    -fx-background-radius: 6px;
    -fx-border-radius: 6px;
    -fx-padding: 20px;
    -fx-alignment: center-left;
    -fx-cursor: hand;
}
.account-list-btn:hover {
    -fx-border-color: -color-primary;
    -fx-background-color: #FDFEFF;
}

/* === TABLES & LISTS (Movements, Stats) === */
.movements-header, .movements-header-label {
    -fx-font-weight: bold;
    -fx-text-fill: -color-secondary;
    -fx-font-size: 14px;
}

.movement-row {
    -fx-padding: 12px 6px;
    -fx-border-width: 0 0 1px 0;
    -fx-border-color: -color-border;
    -fx-font-size: 16px;
}
.movement-row:hover {
    -fx-background-color: #E9ECEF;
}
.movement-row .label {
    -fx-text-fill: -color-text;
}

.movement-row .label.movement-account {
    -fx-font-weight: bold;
}

.movement-row .movement-category {
    -fx-underline: true;
}

.movement-row .movement-amount-positive { -fx-text-fill: -color-accent; }
.movement-row .movement-amount-negative { -fx-text-fill: -color-danger; }

.stat-key, .stat-title {
    -fx-font-weight: bold;
    -fx-text-fill: -color-secondary;
    -fx-font-size: 16px;
}
.stat-value {
    -fx-text-fill: -color-text;
    -fx-font-size: 16px;
}

/* === DIALOGS === */
.add-movement-dialog, .movements-dialog {
    -fx-background-color: -color-background;
    -fx-padding: 20px;
}

/* === SCHEDULER === */
/* Stile generale per tutte le TableView */
.table-view {
    -fx-background-color: -color-surface;
    -fx-border-color: -color-border;
}
.table-view .column-header-background {
    -fx-background-color: -color-background;
}
.table-view .placeholder .label {
    -fx-text-fill: -color-secondary;
}

/* Stile per le righe alternate */
.table-view .table-row-cell:odd {
    -fx-background-color: -color-surface;
}
.table-view .table-row-cell:even {
    -fx-background-color: -color-background;
}
.table-view .table-row-cell:hover {
    -fx-background-color: #E9ECEF;
}

/* --- Stili specifici per la tabella SCHEDULER --- */

/* Stile per l'header della tabella scheduler */
.scheduler-table .column-header .label {
    -fx-font-size: 18px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-text; /* Usa il colore del testo principale */
}

/* Stile di base per le celle di dati della tabella scheduler */
.scheduler-table .table-cell {
    -fx-font-size: 16px;
    -fx-text-fill: -color-text;
    -fx-border-color: transparent -color-border transparent transparent;
}

/* Stile per la colonna "Bank Account" */
.scheduler-table .account-column {
    -fx-font-weight: bold;
}

/* Stile per la colonna "Category" */
.scheduler-table .category-column {
    -fx-underline: true;
}

/* Stile per la colonna "Amount" (colori) */
.scheduler-table .amount-positive {
    -fx-text-fill: -color-accent; /* Verde */
}
.scheduler-table .amount-negative {
    -fx-text-fill: -color-danger; /* Rosso */
}

/* === CHARTS === */
.chart-box {
    -fx-padding: 10px;
}
.pie-chart, .category-chart {
    -fx-padding: 10px;
}
.chart-pie-label {
    -fx-fill: -color-text;
    -fx-font-weight: 600;
    -fx-font-size: 14px;
}
.chart-title {
    -fx-text-fill: -color-text;
    -fx-font-size: 22px;
    -fx-font-weight: 600;
}

.chart-pie-label-line {
    -fx-stroke: #222;
}

/* Migliora la leggibilità della legenda */
.chart-legend {
    -fx-padding: 20px;
}
.chart-legend .label {
    -fx-font-size: 15px;
}

/* Stile per i nuovi tooltip dei grafici */
.chart-tooltip {
    -fx-background-color: rgba(30, 30, 30, 0.85);
    -fx-text-fill: white;
    -fx-font-size: 14px;
    -fx-font-weight: bold;
    -fx-background-radius: 6px;
    -fx-padding: 8px 12px;
}

/* Color sequence for pie chart slices */
.default-color0.chart-pie { -fx-pie-color: #3D67FF; }
.default-color1.chart-pie { -fx-pie-color: #20C997; }
.default-color2.chart-pie { -fx-pie-color: #FFC107; }
.default-color3.chart-pie { -fx-pie-color: #6F42C1; }
.default-color4.chart-pie { -fx-pie-color: #FD7E14; }
.default-color5.chart-pie { -fx-pie-color: #6C757D; }
.default-color6.chart-pie { -fx-pie-color: #17A2B8; }
.default-color7.chart-pie { -fx-pie-color: #E83E8C; }